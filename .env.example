# Gambling Comment Detector - Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=gambling_detector
POSTGRES_PORT=5432

# Full database URL (used by backend)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:your_secure_password_here@postgres:5432/gambling_detector

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your_jwt_secret_key_here_change_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# ENCRYPTION KEY (for OAuth token storage)
# =============================================================================
# Generate a Fernet key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your_fernet_encryption_key_here


# =============================================================================
# GOOGLE OAUTH CONFIGURATION
# =============================================================================
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Required scopes: 
#   - https://www.googleapis.com/auth/youtube.readonly
#   - https://www.googleapis.com/auth/youtube.force-ssl
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# =============================================================================
# YOUTUBE API CONFIGURATION
# =============================================================================
# Create API key at: https://console.cloud.google.com/apis/credentials
# Enable YouTube Data API v3
YOUTUBE_API_KEY=your_youtube_api_key

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_NAME=Gambling Comment Detector
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production

# Backend server port
BACKEND_PORT=8000

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend URL for OAuth redirect
FRONTEND_URL=http://localhost:3000

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins (JSON array format)
CORS_ORIGINS=["http://localhost:3000"]

# =============================================================================
# RATE LIMITING
# =============================================================================
SCAN_RATE_LIMIT_PER_MINUTE=10
PREDICTION_RATE_LIMIT_PER_MINUTE=30

# =============================================================================
# ML MODEL
# =============================================================================
ML_MODEL_PATH=ml/model_pipeline.joblib

# =============================================================================
# ML RETRAINING CONFIGURATION (Requirements 6.1, 6.2)
# =============================================================================
# Minimum number of validations before triggering retraining
RETRAINING_THRESHOLD=100

# Test set size for model evaluation (0.0 to 1.0)
RETRAINING_TEST_SIZE=0.2

# Minimum samples required for training
MIN_TRAINING_SAMPLES=100

# Logistic Regression hyperparameters
CLASSIFIER_C=10.0
CLASSIFIER_SOLVER=lbfgs

# TF-IDF vectorizer ngram ranges
WORD_TFIDF_NGRAM_MIN=1
WORD_TFIDF_NGRAM_MAX=2
CHAR_TFIDF_NGRAM_MIN=2
CHAR_TFIDF_NGRAM_MAX=4

# Model storage paths
MODEL_DIR=ml/models
ORIGINAL_DATASET_PATH=ml/df_all.csv

# =============================================================================
# FLOWER (Celery Monitoring)
# =============================================================================
FLOWER_PORT=5555
# Basic auth for Flower dashboard (format: username:password)
FLOWER_BASIC_AUTH=admin:your_secure_flower_password

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
# Prometheus metrics server port
PROMETHEUS_PORT=9090

# Grafana dashboard port
GRAFANA_PORT=3001

# Grafana admin credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password
GRAFANA_ROOT_URL=http://localhost:3001

# Loki port
LOKI_PORT=3100

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
# Redis password (for production)
REDIS_PASSWORD=your_secure_redis_password

# Admin emails (comma-separated)
ADMIN_EMAILS=admin@example.com

# Frontend API URL (for production build)
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# HTTP/HTTPS ports for nginx
HTTP_PORT=80
HTTPS_PORT=443
